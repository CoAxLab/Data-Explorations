
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tutorial: More advanced plotting &#8212; Data explorations</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Discussion questions" href="../discussions/visualization-through-human-eyes.html" />
    <link rel="prev" title="Visualization through human eyes" href="../lectures/visualization-through-human-eyes.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/information.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Data explorations</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Data explorations
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Information and Meaning
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/quantitative-epistemology.html">
   Quantitative Epsitemology
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="quantitative-epistemology.html">
     Tutorial: Getting started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/Fiona-test.html">
     Fiona Test MD
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/the-value-of-openness.html">
   The value of openness
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="the-value-of-openness.html">
     Tutorial: Repositories and version control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/the-value-of-openness.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/what-is-a-theory.html">
   What is a theory?
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/what-is-a-theory.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/constructing-a-testable-hypothesis.html">
   Constructing a testable hypothesis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="constructing-a-testable-hypothesis.html">
     Tutorial: Introduction to functions and good coding habits
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/constructing-a-testable-hypothesis.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/data-as-objects-and-architectures.html">
   Data as objects and architectures
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="data-as-objects-and-architectures.html">
     Tutorial: Tidy data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/data-as-objects-and-architectures.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/techniques-for-data-cleansing.html">
   Techniques for data cleansing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="techniques-for-data-cleansing.html">
     Tutorial: Data cleansing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/techniques-for-data-cleansing.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/visualization-as-analysis.html">
   Visualization as analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="visualization-as-analysis.html">
     Tutorial: Basics of plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/visualization-as-analysis.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../lectures/visualization-through-human-eyes.html">
   Visualization through human eyes
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Tutorial: More advanced plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/visualization-through-human-eyes.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Knowledge
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/statistical-learning-theory.html">
   Statistical Learning Theory
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/statistical-learning-theory.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/linear-models.html">
   Linear models
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="linear-models.html">
     Tutorial: Refresher on working with matrices
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/linear-models.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/the-ordinary-least-squares-solution.html">
   The ordinary least squares solution
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="the-ordinary-least-squares-solution.html">
     Tutorial: Refresher for solving oridinary least squares
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/the-ordinary-least-squares-solution.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/limits-of-linear-regression.html">
   Limits and variations of linear regression
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="limits-of-linear-regression.html">
     Tutorial: More on linear models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/limits-of-linear-regression.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/mixed-effects-models.html">
   Mixed effects models
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="mixed-effects-models.html">
     Tutorial: Running linear mixed effects models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/mixed-effects-models.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/classifiers.html">
   Classifiers
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="classifiers.html">
     Tutorial: Basics classifiers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/classifiers.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/the-beauty-of-knn.html">
   The beauty of kNN
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="the-beauty-of-knn.html">
     Tutorial: Running kNN models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/the-beauty-of-knn.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/cross-validation.html">
   Cross validation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="cross-validation.html">
     Tutorial: Implementing cross validation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/cross-validation.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/resampling-methods.html">
   Resampling methods
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
  <label for="toctree-checkbox-17">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="resampling-methods.html">
     Tutorial: Boostrap and permutation tests
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/resampling-methods.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/power-analysis-via-simulations.html">
   Power analysis via simulations
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
  <label for="toctree-checkbox-18">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="power-analysis-via-simulations.html">
     Tutorial: Running basic power analyses
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/power-analysis-via-simulations.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/mediation-and-moderation.html">
   Mediation and moderation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
  <label for="toctree-checkbox-19">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="mediation-and-moderation.html">
     Tutorial: Running mediation and moderation models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/mediation-and-moderation.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/selecting-the-best-model.html">
   Selecting the best model
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
  <label for="toctree-checkbox-20">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="selecting-the-best-model.html">
     Tutorial: Model selection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/selecting-the-best-model.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/regularized-regression.html">
   Regularized regression
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
  <label for="toctree-checkbox-21">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="regularized-regression.html">
     Tutorial: Basic ridge and LASSO models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/regularized-regression.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/principal-component-methods.html">
   Principal component methods
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/>
  <label for="toctree-checkbox-22">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="principal-component-methods.html">
     Tutorial: Basic PCA approaches
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/principal-component-methods.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Understanding
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/reconsidering-the-p-value.html">
   Reconsidering the p-value
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/>
  <label for="toctree-checkbox-23">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/reconsidering-the-p-value.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/bayes-factor-accepting-the-null.html">
   Bayes factor
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/>
  <label for="toctree-checkbox-24">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="bayes-factor-accepting-the-null.html">
     Tutorial: Estimating Bayes factors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/bayes-factor-accepting-the-null.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/errors-and-inferences.html">
   Bayes factor
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/>
  <label for="toctree-checkbox-25">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="simple">
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/telling-your-data-story.html">
   Telling your data story
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/>
  <label for="toctree-checkbox-26">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../discussions/telling-your-data-story.html">
     Discussion questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../lectures/theories-as-social-constructs.html">
   Telling your data story
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/>
  <label for="toctree-checkbox-27">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="simple">
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/CoAxLab/Data-Explorations/main?urlpath=tree/book/notebooks/visualization-through-human-eyes.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/CoAxLab/Data-Explorations/blob/main/book/notebooks/visualization-through-human-eyes.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/notebooks/visualization-through-human-eyes.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Tutorial: More advanced plotting
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#goals">
     Goals:
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extending-ggplot2">
   Extending
   <code class="docutils literal notranslate">
    <span class="pre">
     ggplot2
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#customizing-your-visualizations">
   Customizing your visualizations
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#high-data-density">
     High data density
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#meaningful-labels">
     Meaningful labels
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#references">
     References
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#small-multiples">
     Small multiples
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#order">
     Order
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#more-resources">
   More resources
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Tutorial: More advanced plotting</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Tutorial: More advanced plotting
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#goals">
     Goals:
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extending-ggplot2">
   Extending
   <code class="docutils literal notranslate">
    <span class="pre">
     ggplot2
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#customizing-your-visualizations">
   Customizing your visualizations
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#high-data-density">
     High data density
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#meaningful-labels">
     Meaningful labels
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#references">
     References
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#small-multiples">
     Small multiples
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#order">
     Order
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#more-resources">
   More resources
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="tutorial-more-advanced-plotting">
<h1>Tutorial: More advanced plotting<a class="headerlink" href="#tutorial-more-advanced-plotting" title="Permalink to this headline">#</a></h1>
<p>This lab serves as an extension to the previous tutorial on the basics of data visualization in R.</p>
<div class="section" id="goals">
<h2>Goals:<a class="headerlink" href="#goals" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Learn how to extend <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code> with <code class="docutils literal notranslate"><span class="pre">GGally</span></code>, <code class="docutils literal notranslate"><span class="pre">ggthemes</span></code> packages</p></li>
<li><p>Learn about guidelines and best practices for creating <strong>good</strong> plots</p></li>
<li><p>Learn how to customize plots in R using <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code> and other packages</p></li>
</ul>
<p>This tutorial draws from <a class="reference external" href="https://bookdown.org/rdpeng/RProgDA/">Mastering software development in R</a>, chapters 4.1 and 4.2.</p>
</div>
</div>
<hr class="docutils" />
<div class="tex2jax_ignore mathjax_ignore section" id="extending-ggplot2">
<h1>Extending <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code><a class="headerlink" href="#extending-ggplot2" title="Permalink to this headline">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ggplot2</span></code> can be extended in a number of different ways, with different packages. We will focus on one particular package and example in this tutorial.</p>
<p>The <a class="reference external" href="https://cran.r-project.org/web/packages/GGally/GGally.pdf"><code class="docutils literal notranslate"><span class="pre">GGally</span></code> package</a> has a useful function, called <a class="reference external" href="https://www.rdocumentation.org/packages/GGally/versions/1.5.0/topics/ggpairs"><code class="docutils literal notranslate"><span class="pre">ggpairs</span></code></a> that allows you to visually summarize relationships between variables within a dataset. It is often useful as an initial step in understanding and exploring associations within your data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#suppress warnings for this notebook</span>
<span class="nf">options</span><span class="p">(</span><span class="n">warn</span><span class="o">=</span><span class="m">-1</span><span class="p">)</span>
<span class="c1">#to turn warnings back on</span>
<span class="c1">#options(warn=0)</span>

<span class="c1">#load packages</span>
<span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
<span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;GGally&quot;</span><span class="p">)</span>
<span class="nf">suppressMessages</span><span class="p">(</span> <span class="c1">#suppress messages for this piece of code</span>
    <span class="nf">library</span><span class="p">(</span><span class="n">GGally</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The downloaded binary packages are in
	/var/folders/sj/v1s3b78s07z2w0md4brp2kmm0000gn/T//RtmpKw4PDx/downloaded_packages
</pre></div>
</div>
</div>
</div>
<p>As an example, let’s load a dataset called nepali (part of the <a class="reference external" href="https://cran.r-project.org/web/packages/faraway/faraway.pdf">faraway package</a>) that contains data about the health of a group of Nepalese children.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;faraway&quot;</span><span class="p">)</span>
<span class="nf">suppressMessages</span><span class="p">(</span>
    <span class="nf">library</span><span class="p">(</span><span class="n">faraway</span><span class="p">))</span>
<span class="nf">data</span><span class="p">(</span><span class="n">nepali</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The downloaded binary packages are in
	/var/folders/sj/v1s3b78s07z2w0md4brp2kmm0000gn/T//RtmpfbuyGZ/downloaded_packages
</pre></div>
</div>
</div>
</div>
<p>For our purposes, we’ll select basic variables including age, sex, height and weight. We’ll also limit our dataset to include only the first measurement of our variables from each child. We can use tidyverse functions (<code class="docutils literal notranslate"><span class="pre">select()</span></code>, <code class="docutils literal notranslate"><span class="pre">mutate()</span></code>, and <code class="docutils literal notranslate"><span class="pre">distinct()</span></code>) to do so.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">suppressMessages</span><span class="p">(</span>
    <span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">))</span>

<span class="n">nepali</span> <span class="o">&lt;-</span> <span class="n">nepali</span> <span class="o">%&gt;%</span>
  <span class="nf">select</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">sex</span><span class="p">,</span> <span class="n">wt</span><span class="p">,</span> <span class="n">ht</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">mutate</span><span class="p">(</span><span class="n">id</span> <span class="o">=</span> <span class="nf">factor</span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
         <span class="n">sex</span> <span class="o">=</span> <span class="nf">factor</span><span class="p">(</span><span class="n">sex</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">),</span>
                      <span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;Male&quot;</span><span class="p">,</span> <span class="s">&quot;Female&quot;</span><span class="p">)))</span> <span class="o">%&gt;%</span>
  <span class="nf">distinct</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">.keep_all</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now, our dataset looks as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">head</span><span class="p">(</span><span class="n">nepali</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 6 × 5</caption>
<thead>
	<tr><th></th><th scope=col>id</th><th scope=col>sex</th><th scope=col>wt</th><th scope=col>ht</th><th scope=col>age</th></tr>
	<tr><th></th><th scope=col>&lt;fct&gt;</th><th scope=col>&lt;fct&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>120011</td><td>Male  </td><td>12.8</td><td> 91.2</td><td>41</td></tr>
	<tr><th scope=row>2</th><td>120012</td><td>Female</td><td>14.9</td><td>103.9</td><td>57</td></tr>
	<tr><th scope=row>3</th><td>120021</td><td>Female</td><td> 7.7</td><td> 70.1</td><td> 8</td></tr>
	<tr><th scope=row>4</th><td>120022</td><td>Female</td><td>12.1</td><td> 86.4</td><td>35</td></tr>
	<tr><th scope=row>5</th><td>120023</td><td>Male  </td><td>14.2</td><td> 99.4</td><td>49</td></tr>
	<tr><th scope=row>6</th><td>120031</td><td>Male  </td><td>13.9</td><td> 96.4</td><td>46</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>We are now ready to take a look visually! Note, we don’t actually want to plot the <code class="docutils literal notranslate"><span class="pre">id</span></code> variables, so we again take a subset of our dataset as input into the <code class="docutils literal notranslate"><span class="pre">ggpairs</span></code> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggpairs</span><span class="p">(</span><span class="n">nepali</span> <span class="o">%&gt;%</span> <span class="nf">select</span><span class="p">(</span><span class="n">sex</span><span class="p">,</span> <span class="n">wt</span><span class="p">,</span> <span class="n">ht</span><span class="p">,</span> <span class="n">age</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.

`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.

`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
</pre></div>
</div>
<img alt="../_images/visualization-through-human-eyes_11_1.png" src="../_images/visualization-through-human-eyes_11_1.png" />
</div>
</div>
<p>As we can see in the above graph, <code class="docutils literal notranslate"><span class="pre">ggpairs</span></code> automatically treats continuous and categorical variables differently. Categorical variables are broken down into bar charts (e.g., the upper left for the <code class="docutils literal notranslate"><span class="pre">sex</span></code> variable). Continuous variables are described using density plots (e.g., the plots along the diagonal for <code class="docutils literal notranslate"><span class="pre">wt</span></code>, <code class="docutils literal notranslate"><span class="pre">ht</span></code>, and <code class="docutils literal notranslate"><span class="pre">age</span></code> variables).</p>
</div>
<hr class="docutils" />
<div class="tex2jax_ignore mathjax_ignore section" id="customizing-your-visualizations">
<h1>Customizing your visualizations<a class="headerlink" href="#customizing-your-visualizations" title="Permalink to this headline">#</a></h1>
<p>There are a lot of resources available about generating visualizations and graphics that communicate data effectively. This section will focus on some simple guidelines for creating <strong>good</strong> plots:</p>
<ul class="simple">
<li><p>Aim for high data density.</p></li>
<li><p>Use clear, meaningful labels.</p></li>
<li><p>Provide useful references.</p></li>
<li><p>Consider using small multiples.</p></li>
<li><p>Make order meaningful.</p></li>
</ul>
<p>This section will use two datasets:</p>
<ul class="simple">
<li><p>worldcup (part of the <a class="reference external" href="https://cran.r-project.org/web/packages/faraway/faraway.pdf">faraway package</a>), which contains data on players of the 2010 soccer World Cup</p></li>
<li><p>chicagoNMMAPS (part of the <a class="reference external" href="https://cran.r-project.org/web/packages/dlnm/dlnm.pdf">dlnm package</a>, which contains data from the National Morbidity, Mortality and Air Pollution Study (NMMAPS) for the city of Chicago</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">data</span><span class="p">(</span><span class="n">worldcup</span><span class="p">)</span> <span class="c1">#part of the faraway package, which we already installed</span>

<span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;dlnm&quot;</span><span class="p">)</span>
<span class="nf">suppressMessages</span><span class="p">(</span>
    <span class="nf">library</span><span class="p">(</span><span class="n">dlnm</span><span class="p">))</span>
<span class="nf">data</span><span class="p">(</span><span class="n">chicagoNMMAPS</span><span class="p">)</span>
<span class="n">chic</span> <span class="o">&lt;-</span> <span class="n">chicagoNMMAPS</span>
<span class="n">chic_july</span> <span class="o">&lt;-</span> <span class="n">chic</span> <span class="o">%&gt;%</span>
  <span class="nf">filter</span><span class="p">(</span><span class="n">month</span> <span class="o">==</span> <span class="m">7</span> <span class="o">&amp;</span> <span class="n">year</span> <span class="o">==</span> <span class="m">1995</span><span class="p">)</span> <span class="c1">#limit dataset to July 1995</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The downloaded binary packages are in
	/var/folders/sj/v1s3b78s07z2w0md4brp2kmm0000gn/T//RtmpfbuyGZ/downloaded_packages
</pre></div>
</div>
</div>
</div>
<div class="section" id="high-data-density">
<h2>High data density<a class="headerlink" href="#high-data-density" title="Permalink to this headline">#</a></h2>
<p>Guideline 1: Aim for high data density.</p>
<p>A good rule of thumb is to increase the data-to-ink ratio of your visualizations as much as is appropriate. This can essentially be boiled down to removing redundant plot componenets. Doing so allows the audience to understand the take home message of data the plot showcases more quickly and also provides space to add elements that highlight particular datapoints in the future. We’ll come back to this latter idea in future sections.</p>
<p>Plot themes are a good first step for controlling the amount of extraneous plot components. There are built-in themes that come with <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code> that have varying data-to-ink ratios. For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">theme_linedraw</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">theme_bw</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">theme_minimal</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">theme_void</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">theme_dark</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">theme_classic</span></code></p></li>
</ul>
<p>The <a class="reference external" href="https://cran.r-project.org/web/packages/ggthemes/ggthemes.pdf"><code class="docutils literal notranslate"><span class="pre">ggthemes</span></code></a> package, which extends <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code>, has some useful additional themes. These themes can simply be added to a <code class="docutils literal notranslate"><span class="pre">ggplot</span></code> object, as we will see in the examples below.</p>
<p>To really understand what is meant by high data density and data-to-ink ratios, let’s plot the daily mortality from chicagoNMMAPS data during July 1995, when a heatwave occurred using two different themes (among other differences).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;ggthemes&quot;</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">ggthemes</span><span class="p">)</span>

<span class="n">chicago_plot</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">chic_july</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">date</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">death</span><span class="p">))</span> <span class="o">+</span> 
  <span class="nf">xlab</span><span class="p">(</span><span class="s">&quot;Day in July 1995&quot;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">ylab</span><span class="p">(</span><span class="s">&quot;All-cause deaths&quot;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">ylim</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">450</span><span class="p">)</span> 

<span class="n">chicago_plot</span> <span class="o">+</span> 
  <span class="nf">geom_area</span><span class="p">(</span><span class="n">fill</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">theme_excel</span><span class="p">()</span> <span class="c1">#add ggtheme</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The downloaded binary packages are in
	/var/folders/sj/v1s3b78s07z2w0md4brp2kmm0000gn/T//RtmpfbuyGZ/downloaded_packages
</pre></div>
</div>
<img alt="../_images/visualization-through-human-eyes_21_1.png" src="../_images/visualization-through-human-eyes_21_1.png" />
</div>
</div>
<p>In the above plot, excess ink in the form of background color, grid lines and black fill underneath the data doesn’t contribute to ease of interpretation.</p>
<p>When we remove these components (with the helpful use of a different theme), we get a much cleaner plot, as shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">chicago_plot</span> <span class="o">+</span> 
  <span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span> 
  <span class="nf">theme_tufte</span><span class="p">()</span> <span class="c1">#ggtheme</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_23_0.png" src="../_images/visualization-through-human-eyes_23_0.png" />
</div>
</div>
</div>
<div class="section" id="meaningful-labels">
<h2>Meaningful labels<a class="headerlink" href="#meaningful-labels" title="Permalink to this headline">#</a></h2>
<p>Guideline 2: Use clear, meaningful labels.</p>
<p>By default, <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code> uses variable names as axes labels. This is not ideal for most purposes of data visualization outside of initial private data exploration. Instead, converting variable names into meaningful labels (with units if relevant) is a better approach. It is also helpful to rotate labels or indeed the orientation of plots to improve ease of interpretation.</p>
<p>Improving labels using <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code>:</p>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">xlab</span></code> and <code class="docutils literal notranslate"><span class="pre">ylab</span></code> to customize axis labels, instead of the default behavior of using variable names</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">coord_flip</span></code> to modify the graph orientation</p></li>
</ul>
<p>For example, we can use the worldcup dataset to plot the breakdown of players by position in two different ways that showcase either meaningful, easy-to-interpret labels or more difficult labels.</p>
<p>The below graph uses abreviations for the names of categorical variables as well as axis labels.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># First, create a messier example version of the data with &#39;bad&#39; labels</span>

<span class="nf">library</span><span class="p">(</span><span class="n">forcats</span><span class="p">)</span>

<span class="n">wc_example_data</span> <span class="o">&lt;-</span> <span class="n">worldcup</span> <span class="o">%&gt;%</span>
  <span class="n">dplyr</span><span class="o">::</span><span class="nf">rename</span><span class="p">(</span><span class="n">Pos</span> <span class="o">=</span> <span class="n">Position</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">mutate</span><span class="p">(</span><span class="n">Pos</span> <span class="o">=</span> <span class="nf">fct_recode</span><span class="p">(</span><span class="n">Pos</span><span class="p">,</span>
                          <span class="s">&quot;DC&quot;</span> <span class="o">=</span> <span class="s">&quot;Defender&quot;</span><span class="p">,</span>
                          <span class="s">&quot;FW&quot;</span> <span class="o">=</span> <span class="s">&quot;Forward&quot;</span><span class="p">,</span> 
                          <span class="s">&quot;GK&quot;</span> <span class="o">=</span> <span class="s">&quot;Goalkeeper&quot;</span><span class="p">,</span>
                          <span class="s">&quot;MF&quot;</span> <span class="o">=</span> <span class="s">&quot;Midfielder&quot;</span><span class="p">))</span>

<span class="c1"># Plot data</span>

<span class="n">wc_example_data</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Pos</span><span class="p">))</span> <span class="o">+</span> 
  <span class="nf">geom_bar</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_28_0.png" src="../_images/visualization-through-human-eyes_28_0.png" />
</div>
</div>
<p>There are two easy fixes that can help improve the interpretibility of this graph: eliminating label abbreviations, swapping the orientation of the graph. The latter fix may seem arbitrary at first, but makes sense when we consider the former fix. Spelling out the position labels take space that could force the rotation of the labels to a vertical orientation, which makes them more difficult to read quickly.</p>
<p>The graph below incorporates these two fixes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">wc_example_data</span> <span class="o">%&gt;%</span>
  <span class="nf">mutate</span><span class="p">(</span><span class="n">Pos</span> <span class="o">=</span> <span class="nf">fct_recode</span><span class="p">(</span><span class="n">Pos</span><span class="p">,</span>
                          <span class="s">&quot;Defender&quot;</span> <span class="o">=</span> <span class="s">&quot;DC&quot;</span><span class="p">,</span>
                          <span class="s">&quot;Forward&quot;</span> <span class="o">=</span> <span class="s">&quot;FW&quot;</span><span class="p">,</span> 
                          <span class="s">&quot;Goalkeeper&quot;</span> <span class="o">=</span> <span class="s">&quot;GK&quot;</span><span class="p">,</span>
                          <span class="s">&quot;Midfielder&quot;</span> <span class="o">=</span> <span class="s">&quot;MF&quot;</span><span class="p">))</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Pos</span><span class="p">))</span> <span class="o">+</span>
  <span class="nf">geom_bar</span><span class="p">(</span><span class="n">fill</span> <span class="o">=</span> <span class="s">&quot;lightgray&quot;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">xlab</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">ylab</span><span class="p">(</span><span class="s">&quot;Number of players&quot;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">coord_flip</span><span class="p">()</span> <span class="o">+</span> 
  <span class="nf">theme_tufte</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_30_0.png" src="../_images/visualization-through-human-eyes_30_0.png" />
</div>
</div>
<p>While this advice may seem obvious, this simple guideline can go a long way to not only improving the overall aesthetic visualizations, but also adding to the ease with which the audience can grasp the take home message. This is turn clears up headspace for following the data story or understanding what these data mean within context.</p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">#</a></h2>
<p>Guideline 3: Provide useful references.</p>
<p>It can be helpful to add references or points of comparison to visualizations. Doing so can provide useful context for the audience when interpreting the take home message. For example, in the two graphs below, which show daily mortality data from the chicagoNMMAPS dataset for the year 1995, the shaded horizontal bar on the right graph shows the range of datapoints for the other years included in the dataset. Therefore, we can easily see that the mortality rates during the heatwave were unusual.</p>
<p><img alt="Reference comparison" src="https://bookdown.org/rdpeng/RProgDA/manuscript/images/referenceexample1-1.png" /></p>
<p>Another useful reference point to add to visualizations is something that highlights trends within the data, such as a line of best fit - either linear or smoothed.</p>
<p>The graph below uses the worldcup dataset to plot the association between number of passes and number of shots from Forwards.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">(</span><span class="nf">filter</span><span class="p">(</span><span class="n">worldcup</span><span class="p">,</span> <span class="n">Position</span> <span class="o">==</span> <span class="s">&quot;Forward&quot;</span><span class="p">),</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Passes</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Shots</span><span class="p">))</span> <span class="o">+</span> 
        <span class="nf">geom_point</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">1.5</span><span class="p">)</span> <span class="o">+</span> 
        <span class="nf">theme_few</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_36_0.png" src="../_images/visualization-through-human-eyes_36_0.png" />
</div>
</div>
<p>The graph below shows the same association with the addition of a smoothed reference line, which provides helpful visual cues about the relationship between these two variables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">(</span><span class="nf">filter</span><span class="p">(</span><span class="n">worldcup</span><span class="p">,</span> <span class="n">Position</span> <span class="o">==</span> <span class="s">&quot;Forward&quot;</span><span class="p">),</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Passes</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Shots</span><span class="p">))</span> <span class="o">+</span> 
        <span class="nf">geom_point</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">1.5</span><span class="p">)</span> <span class="o">+</span> 
        <span class="nf">theme_few</span><span class="p">()</span>  <span class="o">+</span> 
        <span class="nf">geom_smooth</span><span class="p">()</span> <span class="c1">#add reference line</span>
 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
</pre></div>
</div>
<img alt="../_images/visualization-through-human-eyes_38_1.png" src="../_images/visualization-through-human-eyes_38_1.png" />
</div>
</div>
<p>Helpful <code class="docutils literal notranslate"><span class="pre">geom_smooth</span></code> parameters include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">method</span></code>: specify the type of reference line added (loess curve, generalized additive model, fitted linear model, generalized linear model)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">span</span></code>: smoothness of the reference line (smaller values give increased flexibility and a more wiggly line, larger values give a more smoothed line)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">se</span></code>: adds shading for 95% confidence intervals of the reference lines (TRUE or FALSE)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">level</span></code>: confidence level for confidence interval</p></li>
</ul>
<p>Other helpful <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code> lines and shapes include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geom_hline</span></code>, <code class="docutils literal notranslate"><span class="pre">geom_vline</span></code>: add a horizontal or vertical line</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_abline</span></code>: add a line with an intercept and slope</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_polygon</span></code>: add a filled polygon</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom_path</span></code>: add an unfilled polygon</p></li>
</ul>
<p>Some practical guidance about adding reference points to graphs:</p>
<ul class="simple">
<li><p>Add reference elements first, under the data, so they don’t obscure the main data.</p></li>
<li><p>Using the <code class="docutils literal notranslate"><span class="pre">alpha</span></code> parameter allows transparency control.</p></li>
</ul>
<p>Ultimately, the goal of references is to support and add context to the main data of the visualizations, without overwhelming it.</p>
</div>
<div class="section" id="small-multiples">
<h2>Small multiples<a class="headerlink" href="#small-multiples" title="Permalink to this headline">#</a></h2>
<p>Guideline 4: When possible, use small multiples.</p>
<p>Often it is useful to compare different subsets of a dataset. This is what is meant by small multiples.</p>
<p>As an example, let’s return to the worldcup dataset. If we want to visualize the relationship between time played and shots on goal for different player positions, we could try using different colors to represent player position:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">worldcup</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Time</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Shots</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">Position</span><span class="p">))</span> <span class="o">+</span> 
  <span class="nf">geom_point</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_44_0.png" src="../_images/visualization-through-human-eyes_44_0.png" />
</div>
</div>
<p>But, applying the concept of small multiples, we can use the <code class="docutils literal notranslate"><span class="pre">facet_grid</span></code> and <code class="docutils literal notranslate"><span class="pre">facet_wrap</span></code> functions to split the graph into four separate graphs, one for each position. Ensuring the same axis ranges for the graphs helps with comparison, as we can see in the graphs below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">worldcup</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Time</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Shots</span><span class="p">))</span> <span class="o">+</span> 
  <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>
  <span class="nf">facet_grid</span><span class="p">(</span><span class="n">.</span> <span class="o">~</span> <span class="n">Position</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_46_0.png" src="../_images/visualization-through-human-eyes_46_0.png" />
</div>
</div>
<p>There are some differences between the two facet functions. <code class="docutils literal notranslate"><span class="pre">facet_grid</span></code> allows one variable to be faceted for each dimension. <code class="docutils literal notranslate"><span class="pre">facet_wrap</span></code> allows faceting by more than one variable and allows wrapping, i.e., the small graphs don’t need to all be in one row or column.</p>
<p>The formula for using <code class="docutils literal notranslate"><span class="pre">facet_grid</span></code>, as we did above, is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">facet_grid</span><span class="p">([</span><span class="n">factor</span> <span class="k">for</span> <span class="n">rows</span><span class="p">]</span> <span class="o">~</span> <span class="p">[</span><span class="n">factor</span> <span class="k">for</span> <span class="n">columns</span><span class="p">])</span>
</pre></div>
</div>
<p>The following is the formula for using <code class="docutils literal notranslate"><span class="pre">facet_wrap</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span> <span class="p">[</span><span class="n">formula</span> <span class="k">with</span> <span class="n">factor</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">faceting</span><span class="p">],</span>
           <span class="n">ncol</span> <span class="o">=</span> <span class="p">[</span><span class="n">number</span> <span class="n">of</span> <span class="n">columns</span><span class="p">])</span>
</pre></div>
</div>
<p>Extending theabove graph, we can add another faceted variable to limit the graph to a comparison of players from two countries (Spain and Holland, the finalists):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">worldcup</span> <span class="o">%&gt;%</span>
  <span class="nf">filter</span><span class="p">(</span><span class="n">Team</span> <span class="o">%in%</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;Spain&quot;</span><span class="p">,</span> <span class="s">&quot;Netherlands&quot;</span><span class="p">))</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Time</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Shots</span><span class="p">))</span> <span class="o">+</span> 
  <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>
  <span class="nf">facet_grid</span><span class="p">(</span><span class="n">Team</span> <span class="o">~</span> <span class="n">Position</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_49_0.png" src="../_images/visualization-through-human-eyes_49_0.png" />
</div>
</div>
<p>On the other hand, using <code class="docutils literal notranslate"><span class="pre">facet_wrap</span></code>, we can specify the number of columns of small graphs, which can be helpful when faceting across a variable with many categories. Let’s plot the same data this time separated by team:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">worldcup</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Time</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Shots</span><span class="p">))</span> <span class="o">+</span> 
  <span class="nf">geom_point</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="m">0.25</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span> <span class="n">Team</span><span class="p">,</span> <span class="n">ncol</span> <span class="o">=</span> <span class="m">6</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_51_0.png" src="../_images/visualization-through-human-eyes_51_0.png" />
</div>
</div>
</div>
<div class="section" id="order">
<h2>Order<a class="headerlink" href="#order" title="Permalink to this headline">#</a></h2>
<p>Guideline 5: Make order meaningful.</p>
<p>Often, the default order for categorical variables is not particularly useful, e.g., alphabetical order. An example of this can be seen in the graph below that shows the mean time per player for each team in the worldcup dataset:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">suppressMessages</span><span class="p">(</span>
    <span class="n">worldcup</span> <span class="o">%&gt;%</span>
      <span class="nf">group_by</span><span class="p">(</span><span class="n">Team</span><span class="p">)</span> <span class="o">%&gt;%</span>
      <span class="nf">summarize</span><span class="p">(</span><span class="n">mean_time</span> <span class="o">=</span> <span class="nf">mean</span><span class="p">(</span><span class="n">Time</span><span class="p">))</span> <span class="o">%&gt;%</span>
      <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">mean_time</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Team</span><span class="p">))</span> <span class="o">+</span> 
      <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span> 
      <span class="nf">theme_few</span><span class="p">()</span> <span class="o">+</span> 
      <span class="nf">xlab</span><span class="p">(</span><span class="s">&quot;Mean time per player (minutes)&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">ylab</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span> 
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_54_0.png" src="../_images/visualization-through-human-eyes_54_0.png" />
</div>
</div>
<p>By contrast, the graph below has re-ordered the teams to clearly show the patterns within the data, in this case to show the rankings. To do so, we use the <a class="reference external" href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/factor"><code class="docutils literal notranslate"><span class="pre">factor</span></code> function</a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">suppressMessages</span><span class="p">(</span>
    <span class="n">worldcup</span> <span class="o">%&gt;%</span>
      <span class="nf">group_by</span><span class="p">(</span><span class="n">Team</span><span class="p">)</span> <span class="o">%&gt;%</span>
      <span class="nf">summarize</span><span class="p">(</span><span class="n">mean_time</span> <span class="o">=</span> <span class="nf">mean</span><span class="p">(</span><span class="n">Time</span><span class="p">))</span> <span class="o">%&gt;%</span>
      <span class="nf">arrange</span><span class="p">(</span><span class="n">mean_time</span><span class="p">)</span> <span class="o">%&gt;%</span>                         <span class="c1"># re-order categorical variable and re-set</span>
      <span class="nf">mutate</span><span class="p">(</span><span class="n">Team</span> <span class="o">=</span> <span class="nf">factor</span><span class="p">(</span><span class="n">Team</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="n">Team</span><span class="p">))</span> <span class="o">%&gt;%</span> <span class="c1"># factor levels before plotting</span>
      <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">mean_time</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Team</span><span class="p">))</span> <span class="o">+</span> 
      <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span> 
      <span class="nf">theme_few</span><span class="p">()</span> <span class="o">+</span> 
      <span class="nf">xlab</span><span class="p">(</span><span class="s">&quot;Mean time per player (minutes)&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">ylab</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span> 
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_56_0.png" src="../_images/visualization-through-human-eyes_56_0.png" />
</div>
</div>
<p>The below graph is a more complex example, showing the distribution of playing times for each teach, again ordered by the mean time per player. To accomplish this, we use the tidyverse <code class="docutils literal notranslate"><span class="pre">group_by</span></code>, <code class="docutils literal notranslate"><span class="pre">mutate</span></code> and <code class="docutils literal notranslate"><span class="pre">arrange</span></code> functions in combination with <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">worldcup</span> <span class="o">%&gt;%</span>
  <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">Team</span><span class="p">,</span> <span class="n">Time</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="n">dplyr</span><span class="o">::</span><span class="nf">group_by</span><span class="p">(</span><span class="n">Team</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="c1">#group data by team</span>
  <span class="n">dplyr</span><span class="o">::</span><span class="nf">mutate</span><span class="p">(</span><span class="n">ave_time</span> <span class="o">=</span> <span class="nf">mean</span><span class="p">(</span><span class="n">Time</span><span class="p">),</span>
                <span class="n">min_time</span> <span class="o">=</span> <span class="nf">min</span><span class="p">(</span><span class="n">Time</span><span class="p">),</span>
                <span class="n">max_time</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="n">Time</span><span class="p">))</span> <span class="o">%&gt;%</span> <span class="c1">#average time within team</span>
  <span class="n">dplyr</span><span class="o">::</span><span class="nf">arrange</span><span class="p">(</span><span class="n">ave_time</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="c1">#order by mean time</span>
  <span class="n">dplyr</span><span class="o">::</span><span class="nf">ungroup</span><span class="p">()</span> <span class="o">%&gt;%</span>
  <span class="n">dplyr</span><span class="o">::</span><span class="nf">mutate</span><span class="p">(</span><span class="n">Team</span> <span class="o">=</span> <span class="nf">factor</span><span class="p">(</span><span class="n">Team</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="nf">unique</span><span class="p">(</span><span class="n">Team</span><span class="p">)))</span> <span class="o">%&gt;%</span> <span class="c1">#reset factor levels</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">Time</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Team</span><span class="p">))</span> <span class="o">+</span> 
  <span class="nf">geom_segment</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">min_time</span><span class="p">,</span> <span class="n">xend</span> <span class="o">=</span> <span class="n">max_time</span><span class="p">,</span> <span class="n">yend</span> <span class="o">=</span> <span class="n">Team</span><span class="p">),</span>
               <span class="n">alpha</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;gray&quot;</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">geom_point</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">geom_point</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">ave_time</span><span class="p">),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;red&quot;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="o">+</span> 
  <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span> 
  <span class="nf">ylab</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/visualization-through-human-eyes_58_0.png" src="../_images/visualization-through-human-eyes_58_0.png" />
</div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="tex2jax_ignore mathjax_ignore section" id="more-resources">
<h1>More resources<a class="headerlink" href="#more-resources" title="Permalink to this headline">#</a></h1>
<p>For more practical tips on plotting with ggplot2:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.cookbook-r.com/Graphs/">R Cookbook website</a></p></li>
<li><p><a class="reference external" href="http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html">R Statistics - most popular visualizations</a></p></li>
<li><p><a class="reference external" href="http://r-statistics.co/ggplot2-cheatsheet.html">R Statistics - cheatsheet</a></p></li>
</ul>
<p>Finally, it is often possible to use google image search to find examples of plots created in R that includes links to the code used to generate them.</p>
<p>Happy visualizing!</p>
<p><em>Notebook authored by Amy Sentis.</em></p>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "r"
        },
        kernelOptions: {
            kernelName: "ir",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ir'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../lectures/visualization-through-human-eyes.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Visualization through human eyes</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../discussions/visualization-through-human-eyes.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Discussion questions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Timothy Verstynen, Venn Popov, Krista Bond, Charles Wu, Patience Stevens, Amy Sentis, Fiona Horner<br/>
  
      &copy; Copyright 2023.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>